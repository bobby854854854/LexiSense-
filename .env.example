

# ============================================
# Server Configuration
# ============================================
NODE_ENV=development
PORT=5000

# ============================================
# Database (Neon Serverless PostgreSQL)
# ============================================
# Get your connection string from https://console.neon.tech
DATABASE_URL=postgresql://user:password@host/database?sslmode=require

# ============================================
# Session Management
# ============================================
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=your-super-secret-session-key-min-32-chars

# ============================================
# OpenAI API
# ============================================
# Get your API key from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...

# ============================================
# Application URL
# ============================================
# Used for invitation links and emails
APP_URL=http://localhost:5000

# ============================================
# File Upload Configuration
# ============================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
UPLOAD_DIR=./uploads

# ============================================
# AWS S3 Storage (Production)
# ============================================
# Get credentials from AWS IAM Console
# https://console.aws.amazon.com/iam/
AWS_ACCESS_KEY_ID=your-access-key-id
AWS_SECRET_ACCESS_KEY=your-secret-access-key
AWS_REGION=us-east-1
S3_BUCKET_NAME=lexisense-contracts

# ============================================
# Email Configuration
# ============================================
# Choose provider: 'smtp' or 'resend'
EMAIL_PROVIDER=smtp

# Option 1: SMTP (SendGrid, AWS SES, Gmail, etc.)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=your-sendgrid-api-key

# Option 2: Resend (https://resend.com)
# RESEND_API_KEY=re_...

# From address for emails
EMAIL_FROM=LexiSense <noreply@lexisense.com>

# ============================================
# Redis (Optional - for distributed rate limiting)
# ============================================
# If not provided, uses in-memory rate limiting
# Get from Upstash, Redis Labs, or self-hosted
REDIS_URL=redis://default:password@host:port

# ============================================
# Logging Configuration
# ============================================
LOG_LEVEL=info  # error, warn, info, debug
LOG_DIR=./logs
SILENT_LOGS=false

# ============================================
# Security Headers (Helmet.js)
# ============================================
# Content Security Policy
CSP_ENABLED=true

# ============================================
# Development/Testing
# ============================================
# Set to 'true' to use Ethereal email (fake SMTP for testing)
USE_TEST_EMAIL=false

# Email (e.g., for Gmail: create an app password)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
EMAIL_FROM=LexiSense Invites <no-reply@lexisense.com>
APP_URL=http://localhost:3000  # Change to production URL later